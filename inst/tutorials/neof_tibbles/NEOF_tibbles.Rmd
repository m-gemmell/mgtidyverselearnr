---
title: "Tibble tutorial"
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
    css: css/style.scss
runtime: shiny_prerendered
description: >
  Tutorial covering the tibble 
---

```{r setup, include=FALSE}
library(learnr)
library(tidyverse)
library(mgrtibbles)
knitr::opts_chunk$set(echo = FALSE)
```


## Tibbles

<center>
![](./images/tibble.png){style="width:150px"}
</center>

This tutorial covers tibbles and contains the following sections:

- __Overview:__ The what and why of tibbles.
- __Creating tibbles:__ Commands to create tibbles.


[NEOF Tidyverse website reference](https://neof-workshops.github.io/Tidyverse/tibble/tibble.html)

### Overview

A __tibble__ (`tbl`) is a reimagining of the __data.frame__ (`df`) object. They are described as __data.frames__ that are:

- __Lazy__: They don’t change variable names and they partial matching does not work.
- __Surly__: They complain more such as when a variable does not exist.

One important note is that __tibbles__ don’t have row names.

Although __tibbles__ have advantages compared to __data.frames__ they are not always more suited to the task than __data.frames__. 
However, __tibbles__ are generally always preferred over __data.frames__ when using __tidyverse__ packages.

### Tibble example

Run the below code for an example of:

- Creating a basic tibble
- Printing the tibble

```{r tbl-example, exercise=TRUE, exercise.eval=FALSE}
#Create a tibble
tbl <- tibble::tibble(Day = c("Mon", "Tue", "Wed"),
              Hawks = c(3,7,2),
              Pigeons = c(52,21,61),
              Starlings = c(1,2,1))
#Print tibble
tbl
```

## Creating tibbles

<center>
![](images/tibble_create.png){style="width:200px"}
</center>

There are various ways to create __tibbles__. 
Below are three methods:

- Creating a new __tibble__ via code
- Coercing a __data.frame__ into a __tibble__
- Reading in a file as a __tibble__

In this section you will be given instructions to create tibbles.
You will need to use the pre made code and the guidance on the [creating tibbles webpage](https://neof-workshops.github.io/Tidyverse/tibble/creating_tibbles.html) to carry out the exercises.

### Code to tibble

Create and display the below tibble:

```{r code-to-tbl-tbl}
#Vectors to be used as columns
Month <- c("January", "February", "March")
Emperor <- c(219738, 207639, 198745)
King <- c(2245928,2131628,2086237)
Gentoo <- c(307582, 301583, 299710)

#Create a tibble
tbl <- tibble::tibble(Month, Emperor, King, Gentoo)
#Print tibble
tbl
```

by completing the below code:

```{r code-to-tbl-exercise, exercise=TRUE, exercise.eval=FALSE}
#Vectors
Month <- c("January", "February", "March")
Emperor <- c(219738, 207639, 198745)
King <- c(2245928,2131628,2086237)
Gentoo <- c(307582, 301583, 299710)
```

### data.frame to tibble

Next is converting a __data.frame__ to a __tibble__.

```{r df-to-tbl-df, echo=TRUE}
df <- trees
str(df)
df
```

Complete the below code by convert the __data.frame__ (`trees`) into a __tibble__ and displaying its structure and the __tibble__.

```{r df-to-tbl-exercise, exercise=TRUE, exercise.eval=FALSE}
tbl <- 
str(tbl)
tbl
```

### Quiz

Super!
Please attempt the below MCQs (Multiple choice questions) to solidify your learning.

```{r create-tbl-mcq-1, echo=FALSE}
question("When creating a tibble from vectors, what do the vectors become?",
  answer("Columns", correct = TRUE),
  answer("Rows"),
  answer("Row names"),
  allow_retry = TRUE
)
```

```{r create-tbl-mcq-2, echo=FALSE}
question("What do tibbles not have?",
  answer("Columns"),
  answer("Rows"),
  answer("Row names", correct = TRUE),
  allow_retry = TRUE
)
```

```{r create-tbl-mcq-3, echo=FALSE}
question("What function can be used to create a tibble from vectors?",
  answer("`tibble::as_tibble()`"),
  answer("`tibble::read_csv()`"),
  answer("`tibble::tibble()`", correct = TRUE),
  allow_retry = TRUE
)
```

```{r create-tbl-mcq-4, echo=FALSE}
question("What function can be used to convert a data.frame to a tibble?",
  answer("`tibble::as_tibble()`", correct = TRUE),
  answer("`tibble::read_csv()`"),
  answer("`tibble::tibble()`"),
  allow_retry = TRUE
)
```
